# =============================================================================
# Spec2Test Backend Environment Configuration Template
# =============================================================================
# Copy this file to .env and fill in your actual values
# Never commit .env file to version control!

# =============================================================================
# Application Settings
# =============================================================================
APP_NAME=Spec2Test Backend
APP_VERSION=0.1.0
APP_DESCRIPTION=AI-powered API documentation testing tool backend
DEBUG=false
ENVIRONMENT=development

# Server Configuration
HOST=0.0.0.0
PORT=8000
RELOAD=true

# =============================================================================
# Database Configuration (PostgreSQL)
# =============================================================================
DB_HOST=localhost
DB_PORT=5432
DB_NAME=spec2test
DB_USER=spec2test_user
DB_PASSWORD=your_secure_password_here
DB_ECHO=false

# Database URL (constructed from above values)
DATABASE_URL=postgresql://${DB_USER}:${DB_PASSWORD}@${DB_HOST}:${DB_PORT}/${DB_NAME}

# =============================================================================
# Redis Configuration (for Celery)
# =============================================================================
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_DB=0
REDIS_PASSWORD=
REDIS_URL=redis://${REDIS_HOST}:${REDIS_PORT}/${REDIS_DB}

# =============================================================================
# Celery Configuration
# =============================================================================
CELERY_BROKER_URL=${REDIS_URL}
CELERY_RESULT_BACKEND=${REDIS_URL}
CELERY_TASK_SERIALIZER=json
CELERY_RESULT_SERIALIZER=json
CELERY_ACCEPT_CONTENT=json
CELERY_TIMEZONE=UTC

# =============================================================================
# LLM Configuration
# =============================================================================

# Gemini Configuration
GEMINI_API_KEY=your_gemini_api_key_here
GEMINI_MODEL=gemini-1.5-pro
GEMINI_TEMPERATURE=0.1
GEMINI_MAX_TOKENS=8192

# Ollama Configuration (for local LLM)
OLLAMA_BASE_URL=http://localhost:11434
OLLAMA_MODEL=llama3.1:8b
OLLAMA_TIMEOUT=300

# Default LLM Provider (gemini or ollama)
DEFAULT_LLM_PROVIDER=gemini

# =============================================================================
# File Storage Configuration
# =============================================================================
UPLOAD_DIR=./uploads
MAX_FILE_SIZE=10485760  # 10MB in bytes
ALLOWED_FILE_TYPES=json,yaml,yml,md

# =============================================================================
# Security Configuration
# =============================================================================
SECRET_KEY=your_super_secret_key_change_this_in_production
ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=30

# CORS Settings
CORS_ORIGINS=http://localhost:3000,http://localhost:8080
CORS_ALLOW_CREDENTIALS=true
CORS_ALLOW_METHODS=GET,POST,PUT,DELETE,OPTIONS
CORS_ALLOW_HEADERS=*

# =============================================================================
# Logging Configuration
# =============================================================================
LOG_LEVEL=INFO
LOG_FORMAT=<green>{time:YYYY-MM-DD HH:mm:ss}</green> | <level>{level: <8}</level> | <cyan>{name}</cyan>:<cyan>{function}</cyan>:<cyan>{line}</cyan> - <level>{message}</level>
LOG_ROTATION=1 week
LOG_RETENTION=1 month
LOG_COMPRESSION=zip

# =============================================================================
# Testing Configuration
# =============================================================================
TEST_DATABASE_URL=postgresql://test_user:test_password@localhost:5432/spec2test_test
TEST_REDIS_URL=redis://localhost:6379/1

# =============================================================================
# Performance Configuration
# =============================================================================
# HTTP Client Settings
HTTP_TIMEOUT=30
HTTP_MAX_RETRIES=3
HTTP_RETRY_DELAY=1

# Document Processing
MAX_DOCUMENT_SIZE=5242880  # 5MB in bytes
CHUNK_SIZE=4096
MAX_CHUNKS_PER_DOCUMENT=1000

# Concurrent Processing
MAX_CONCURRENT_TESTS=10
MAX_CONCURRENT_ANALYSIS=5

# =============================================================================
# Monitoring & Health Check
# =============================================================================
HEALTH_CHECK_INTERVAL=60
METRICS_ENABLED=true
PROMETHEUS_PORT=9090
